<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>내 프로필</title>
    <!-- CSS 파일 연결 -->
    <link rel="stylesheet" th:href="@{/css/profile.css}" />
</head>
<body>
<div class="profile-card">
    <!-- 1. 프로필 이미지 -->
    <div class="profile-image-wrapper">
        <!-- 사용자 프로필 사진이 없으면 기본 이미지를 표시합니다. -->
        <img th:if="${#strings.isEmpty(session.user.picture)}"
             th:src="@{/images/user-icon2.png}"
             alt="기본 프로필 이미지" class="profile-image" />
        <!-- 사용자 프로필 사진이 있으면 해당 사진을 표시합니다. -->
        <img th:unless="${#strings.isEmpty(session.user.picture)}"
             th:src="${session.user.picture}"
             alt="사용자 프로필 이미지" class="profile-image" />
    </div>

    <!-- 2. 사용자 정보 -->
    <div class="user-info">
        <h1 class="nickname" th:text="${session.user.nickname}">사용자 닉네임</h1>
        <p class="name" th:text="${session.user.name}">실제 이름</p>

        <div class="info-item">
            <!-- 이메일 아이콘 (SVG) -->
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
            <span th:text="${session.user.email}">user.email@example.com</span>
        </div>
    </div>

    <!-- 3. 버튼 그룹 -->
    <div class="button-group">
        <!-- 홈으로 가기 버튼 -->
        <a th:href="@{/}" class="btn btn-home">홈으로</a>
        <!-- 정보 수정 버튼 추가 -->
        <a th:href="@{/profile/edit}" class="btn btn-edit">정보 수정</a>
        <!-- 로그아웃 버튼 (POST 요청) -->
        <form th:action="@{/logout}" method="post" style="display: inline;">
            <button type="submit" class="btn btn-logout">로그아웃</button>
        </form>
    </div>
</div>
</body>
</html>